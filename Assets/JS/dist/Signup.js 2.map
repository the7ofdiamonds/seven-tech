{"version":3,"file":"Signup.js","sources":["../../../src/controllers/signupSlice.js","../../../src/views/Signup.jsx"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\nimport {\n    createUserWithEmailAndPassword, getAuth\n} from \"firebase/auth\";\n\nexport const signup = createAsyncThunk('signup/signup', async (User_Name, Email, Password) => {\n    try {\n        const auth = getAuth();\n\n        await createUserWithEmailAndPassword(auth, Email, Password);\n\n        const new_user_data = {\n            'user_login': User_Name,\n            'user_email': Email,\n            'user_password': Password\n        };\n\n        await fetch('/wp-json/thfw/users/v1/signup', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(new_user_data)\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            const errorMessage = errorData.message;\n            throw new Error(errorMessage);\n        }\n\n        const responseData = await response.json();\n        return responseData;\n    } catch (error) {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n\n        return `Error (${errorCode}): ${errorMessage}`;\n    }\n});","import { useState, useEffect } from 'react';\n\nimport NavigationComponent from './components/NavigationLogin';\n\nimport { displayStatus, displayStatusType } from '../utils/DisplayStatus';\n\nimport { signup } from '../controllers/signupSlice';\n\nfunction SignUpComponent() {\n  const [UserName, setUserName] = useState('');\n  const [Email, setEmail] = useState('');\n  const [Password, setPassword] = useState('');\n  const [ConfirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState(\n    'Enter the username, email, and password of your choice to sign up.'\n  );\n  const [messageType, setMessageType] = useState('');\n\n  useEffect(() => {\n    if (\n      Password !== '' &&\n      ConfirmPassword !== '' &&\n      Password === ConfirmPassword\n    ) {\n      const msg = 'You have successfully entered your password twice.';\n      setMessage(displayStatus(msg));\n      setMessageType(displayStatusType(msg));\n    } else if (Password !== '' && Password !== ConfirmPassword) {\n      const msg = 'You have not entered your password twice.';\n      setMessage(displayStatus(msg));\n      setMessageType(displayStatusType(msg));\n    }\n  }, [Password, ConfirmPassword]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    signup(UserName, Email, Password)\n      .then((response) => {\n        setMessage(displayStatus(response));\n        setMessageType(displayStatusType(response));\n      })\n      .then(() => {\n        setTimeout(() => {\n          window.location.href = '/login';\n        }, 5000);\n      })\n      .catch((error) => {\n        console.log(error.message);\n        setMessage(displayStatus(error.message));\n        setMessageType(displayStatusType(error.message));\n      });\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === 'user-name') {\n      setUserName(e.target.value);\n    } else if (e.target.name === 'email') {\n      setEmail(e.target.value);\n    } else if (e.target.name === 'password') {\n      setPassword(e.target.value);\n    } else if (e.target.name === 'confirm-password') {\n      setConfirmPassword(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      <main className=\"signup\">\n        <NavigationComponent />\n\n        <div className=\"login card\">\n          <form>\n            <table>\n              <thead></thead>\n              <tbody>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"user-name\"\n                      placeholder=\"User Name\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"password\"\n                      name=\"password\"\n                      placeholder=\"Password\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"password\"\n                      name=\"confirm-password\"\n                      placeholder=\"Confirm Password\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <td>\n                  <button type=\"submit\" onClick={handleSubmit}>\n                    <h3>SIGN UP</h3>\n                  </button>\n                </td>\n              </tfoot>\n            </table>\n          </form>\n        </div>\n\n        {message !== '' && (\n          <div className={`status-bar card ${messageType}`}>\n            <span>{message}</span>\n          </div>\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default SignUpComponent;\n"],"names":["signup","createAsyncThunk","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","User_Name","Email","Password","auth","new_user_data","errorData","errorMessage","responseData","errorCode","_errorMessage","wrap","_context","prev","next","getAuth","createUserWithEmailAndPassword","fetch","method","headers","body","JSON","stringify","response","ok","json","sent","message","Error","abrupt","t0","code","concat","stop","_x","_x2","_x3","apply","arguments","SignUpComponent","_useState","useState","_useState2","_slicedToArray","UserName","setUserName","_useState3","_useState4","setEmail","_useState5","_useState6","setPassword","_useState7","_useState8","ConfirmPassword","setConfirmPassword","_useState9","_useState10","setMessage","_useState11","_useState12","messageType","setMessageType","useEffect","msg","displayStatus","displayStatusType","handleSubmit","e","preventDefault","then","setTimeout","window","location","href","catch","error","console","log","handleChange","target","name","value","jsx","Fragment","children","jsxs","className","NavigationComponent","type","placeholder","onChange","required","onClick"],"mappings":"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"}