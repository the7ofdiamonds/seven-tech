{"version":3,"file":"Signup.js","sources":["../../../src/controllers/signupSlice.js","../../../src/views/Signup.jsx"],"sourcesContent":["import {\n    createUserWithEmailAndPassword, getAuth\n} from \"firebase/auth\";\n\nexport const signup = createAsyncThunk('signup/signup', async (User_Name, Email, Password) => {\n    try {\n        const auth = getAuth();\n\n        await createUserWithEmailAndPassword(auth, Email, Password);\n\n        const new_user_data = {\n            'user_login': User_Name,\n            'user_email': Email,\n            'user_password': Password\n        };\n\n        await fetch('/wp-json/thfw/users/v1/signup', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(new_user_data)\n        });\n\n        if (!response.ok) {\n            const errorData = await response.json();\n            const errorMessage = errorData.message;\n            throw new Error(errorMessage);\n        }\n\n        const responseData = await response.json();\n        return responseData;\n    } catch (error) {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n\n        return `Error (${errorCode}): ${errorMessage}`;\n    }\n});","import { useState, useEffect } from 'react';\n\nimport NavigationComponent from './components/NavigationLogin';\n\nimport { displayStatus, displayStatusType } from '../utils/DisplayStatus';\n\nimport { signup } from '../controllers/signupSlice';\n\nfunction SignUpComponent() {\n  const [UserName, setUserName] = useState('');\n  const [Email, setEmail] = useState('');\n  const [Password, setPassword] = useState('');\n  const [ConfirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState(\n    'Enter the username, email, and password of your choice to sign up.'\n  );\n  const [messageType, setMessageType] = useState('');\n\n  useEffect(() => {\n    if (\n      Password !== '' &&\n      ConfirmPassword !== '' &&\n      Password === ConfirmPassword\n    ) {\n      const msg = 'You have successfully entered your password twice.';\n      setMessage(displayStatus(msg));\n      setMessageType(displayStatusType(msg));\n    } else if (Password !== '' && Password !== ConfirmPassword) {\n      const msg = 'You have not entered your password twice.';\n      setMessage(displayStatus(msg));\n      setMessageType(displayStatusType(msg));\n    }\n  }, [Password, ConfirmPassword]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    signup(UserName, Email, Password)\n      .then((response) => {\n        setMessage(displayStatus(response));\n        setMessageType(displayStatusType(response));\n      })\n      .then(() => {\n        setTimeout(() => {\n          window.location.href = '/login';\n        }, 5000);\n      })\n      .catch((error) => {\n        console.log(error.message);\n        setMessage(displayStatus(error.message));\n        setMessageType(displayStatusType(error.message));\n      });\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === 'user-name') {\n      setUserName(e.target.value);\n    } else if (e.target.name === 'email') {\n      setEmail(e.target.value);\n    } else if (e.target.name === 'password') {\n      setPassword(e.target.value);\n    } else if (e.target.name === 'confirm-password') {\n      setConfirmPassword(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      <main className=\"signup\">\n        <NavigationComponent />\n\n        <div className=\"login card\">\n          <form>\n            <table>\n              <thead></thead>\n              <tbody>\n                <tr>\n                  <td>\n                    <input\n                      type=\"text\"\n                      name=\"user-name\"\n                      placeholder=\"User Name\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"password\"\n                      name=\"password\"\n                      placeholder=\"Password\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <td>\n                    <input\n                      type=\"password\"\n                      name=\"confirm-password\"\n                      placeholder=\"Confirm Password\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <td>\n                  <button type=\"submit\" onClick={handleSubmit}>\n                    <h3>SIGN UP</h3>\n                  </button>\n                </td>\n              </tfoot>\n            </table>\n          </form>\n        </div>\n\n        {message !== '' && (\n          <div className={`status-bar card ${messageType}`}>\n            <span>{message}</span>\n          </div>\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default SignUpComponent;\n"],"names":["signup","User_Name","Email","Password","auth","getAuth","createUserWithEmailAndPassword","errorMessage","error","errorCode","SignUpComponent","UserName","setUserName","useState","setEmail","setPassword","ConfirmPassword","setConfirmPassword","message","setMessage","messageType","setMessageType","useEffect","msg","displayStatus","displayStatusType","handleSubmit","e","response","handleChange","jsx","Fragment","jsxs","NavigationComponent"],"mappings":"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"}