{"version":3,"file":"Forgot.js","sources":["../../../src/controllers/forgotSlice.js","../../../src/views/Forgot.jsx"],"sourcesContent":["import {\n    sendPasswordResetEmail,\n    getAuth\n} from \"firebase/auth\";\n\nexport const forgot = async (Email) => {\n    const auth = getAuth();\n\n    try {\n        await sendPasswordResetEmail(auth, Email);\n        return 'An email has been sent with a link to reset your password.';\n    } catch (error) {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n\n        return `Error (${errorCode}): ${errorMessage}`;\n    }\n};","import { useState } from 'react';\n\nimport NavigationComponent from './components/NavigationLogin';\n\nimport { displayStatus } from '../utils/DisplayStatus';\n\nimport { forgot } from '../controllers/forgotSlice';\n\nfunction ForgotComponent() {\n  const [Email, setEmail] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const [message, setMessage] = useState(\n    'If you forgot your password, enter your username or email.'\n  );\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    forgot(Email).then(() => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const redirectTo = urlParams.get('redirectTo');\n\n      setTimeout(() => {\n        if (redirectTo === null) {\n          window.location.href = '/login';\n        } else {\n          window.location.href = redirectTo;\n        }\n      }, 5000);\n\n      setMessage(displayStatus(`Check your inbox and spam for ${Email}`));\n      setMessageType('info');\n    });\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === 'email') {\n      setEmail(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      <main className=\"forgot\">\n        <NavigationComponent />\n        <div className=\"login card\">\n          <form>\n            <table>\n              <thead></thead>\n              <tbody>\n                <tr>\n                  <td>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <td>\n                  <button type=\"submit\" onClick={handleSubmit}>\n                    <h3>RESET</h3>\n                  </button>\n                </td>\n              </tfoot>\n            </table>\n          </form>\n        </div>\n\n        {message !== '' && (\n          <div className={`status-bar card ${messageType}`}>\n            <span>{message}</span>\n          </div>\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default ForgotComponent;\n"],"names":["forgot","Email","auth","getAuth","sendPasswordResetEmail","error","errorCode","errorMessage","ForgotComponent","setEmail","useState","messageType","setMessageType","message","setMessage","handleSubmit","e","redirectTo","displayStatus","handleChange","jsx","Fragment","jsxs","NavigationComponent"],"mappings":"mIAKO,MAAMA,EAAS,MAAOC,GAAU,CACnC,MAAMC,EAAOC,IAEb,GAAI,CACA,aAAMC,EAAuBF,EAAMD,CAAK,EACjC,4DACV,OAAQI,EAAO,CACZ,MAAMC,EAAYD,EAAM,KAClBE,EAAeF,EAAM,QAE3B,MAAO,UAAUC,CAAS,MAAMC,CAAY,EAC/C,CACL,ECTA,SAASC,GAAkB,CACzB,KAAM,CAACP,EAAOQ,CAAQ,EAAIC,WAAS,EAAE,EAC/B,CAACC,EAAaC,CAAc,EAAIF,WAAS,EAAE,EAC3C,CAACG,EAASC,CAAU,EAAIJ,EAAA,SAC5B,4DAAA,EAGIK,EAAe,MAAOC,GAAM,CAChCA,EAAE,eAAe,EACVhB,EAAAC,CAAK,EAAE,KAAK,IAAM,CAEjB,MAAAgB,EADY,IAAI,gBAAgB,OAAO,SAAS,MAAM,EAC/B,IAAI,YAAY,EAE7C,WAAW,IAAM,CACXA,IAAe,KACjB,OAAO,SAAS,KAAO,SAEvB,OAAO,SAAS,KAAOA,GAExB,GAAI,EAEPH,EAAWI,EAAc,iCAAiCjB,CAAK,EAAE,CAAC,EAClEW,EAAe,MAAM,CAAA,CACtB,CAAA,EAGGO,EAAgBH,GAAM,CACtBA,EAAE,OAAO,OAAS,SACXP,EAAAO,EAAE,OAAO,KAAK,CACzB,EAGF,OAEII,EAAA,IAAAC,WAAA,CAAA,SAAAC,EAAAA,KAAC,OAAK,CAAA,UAAU,SACd,SAAA,CAAAF,EAAA,IAACG,EAAoB,EAAA,QACpB,MAAI,CAAA,UAAU,aACb,SAACH,EAAAA,IAAA,OAAA,CACC,gBAAC,QACC,CAAA,SAAA,CAAAA,EAAA,IAAC,QAAM,EAAA,EACNA,EAAAA,IAAA,QAAA,CACC,SAACA,MAAA,KAAA,CACC,eAAC,KACC,CAAA,SAAAA,EAAA,IAAC,QAAA,CACC,KAAK,QACL,KAAK,QACL,YAAY,QACZ,SAAUD,EACV,SAAQ,EAAA,CAAA,CAEZ,CAAA,CACF,CAAA,EACF,EACCC,EAAAA,IAAA,QAAA,CACC,SAACA,MAAA,KAAA,CACC,eAAC,SAAO,CAAA,KAAK,SAAS,QAASL,EAC7B,SAACK,EAAA,IAAA,KAAA,CAAG,SAAK,QAAA,CAAA,CACX,CACF,CAAA,EACF,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAECP,IAAY,IACXO,EAAA,IAAC,MAAI,CAAA,UAAW,mBAAmBT,CAAW,GAC5C,SAAAS,EAAAA,IAAC,OAAM,CAAA,SAAAP,CAAQ,CAAA,EACjB,CAAA,CAEJ,CAAA,CACF,CAAA,CAEJ"}