{"version":3,"file":"Forgot.js","sources":["../../src/controllers/forgotSlice.js","../../src/views/Forgot.jsx"],"sourcesContent":["import {\n    sendPasswordResetEmail,\n    getAuth\n} from \"firebase/auth\";\n\nexport const forgot = async (Email) => {\n    const auth = getAuth();\n\n    try {\n        await sendPasswordResetEmail(auth, Email);\n        return 'An email has been sent with a link to reset your password.';\n    } catch (error) {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n\n        return `Error (${errorCode}): ${errorMessage}`;\n    }\n};","import { useState } from 'react';\n\nimport NavigationComponent from './components/NavigationLogin';\n\nimport { displayStatus } from '../utils/DisplayStatus';\n\nimport { forgot } from '../controllers/forgotSlice';\n\nfunction ForgotComponent() {\n  const [Email, setEmail] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const [message, setMessage] = useState(\n    'If you forgot your password, enter your username or email.'\n  );\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    forgot(Email).then(() => {\n      const urlParams = new URLSearchParams(window.location.search);\n      const redirectTo = urlParams.get('redirectTo');\n\n      setTimeout(() => {\n        if (redirectTo === null) {\n          window.location.href = '/login';\n        } else {\n          window.location.href = redirectTo;\n        }\n      }, 5000);\n\n      setMessage(displayStatus(`Check your inbox and spam for ${Email}`));\n      setMessageType('info');\n    });\n  };\n\n  const handleChange = (e) => {\n    if (e.target.name === 'email') {\n      setEmail(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      <main className=\"forgot\">\n        <NavigationComponent />\n        <div className=\"login card\">\n          <form>\n            <table>\n              <thead></thead>\n              <tbody>\n                <tr>\n                  <td>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder=\"Email\"\n                      onChange={handleChange}\n                      required\n                    />\n                  </td>\n                </tr>\n              </tbody>\n              <tfoot>\n                <td>\n                  <button type=\"submit\" onClick={handleSubmit}>\n                    <h3>RESET</h3>\n                  </button>\n                </td>\n              </tfoot>\n            </table>\n          </form>\n        </div>\n\n        {message !== '' && (\n          <div className={`status-bar card ${messageType}`}>\n            <span>{message}</span>\n          </div>\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default ForgotComponent;\n"],"names":["forgot","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","Email","auth","errorCode","errorMessage","wrap","_context","prev","next","getAuth","sendPasswordResetEmail","abrupt","t0","code","message","concat","stop","_x","apply","arguments","ForgotComponent","_useState","useState","_useState2","_slicedToArray","setEmail","_useState3","_useState4","messageType","setMessageType","_useState5","_useState6","setMessage","handleSubmit","e","preventDefault","then","urlParams","URLSearchParams","window","location","search","redirectTo","get","setTimeout","href","displayStatus","handleChange","target","name","value","jsx","Fragment","children","jsxs","className","NavigationComponent","type","placeholder","onChange","required","onClick"],"mappings":"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"}